{"ast":null,"code":"import _classCallCheck from \"/Users/jesusperea/Desktop/Bases Proyect/myapp/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jesusperea/Desktop/Bases Proyect/myapp/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jesusperea/Desktop/Bases Proyect/myapp/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jesusperea/Desktop/Bases Proyect/myapp/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jesusperea/Desktop/Bases Proyect/myapp/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/jesusperea/Desktop/Bases Proyect/myapp/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/jesusperea/Desktop/Bases Proyect/myapp/src/Materias/update_materia.jsx\";\nimport React from 'react';\nimport $ from 'jquery'; // component that contains the logic to update a product\n\nexport var UpdateProductComponent =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(UpdateProductComponent, _React$Component);\n\n  function UpdateProductComponent(props) {\n    var _this;\n\n    _classCallCheck(this, UpdateProductComponent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UpdateProductComponent).call(this, props));\n    _this.state = {\n      nombre: '',\n      CveM: '',\n      successUpdate: null\n    };\n    _this.onNombreChange = _this.onNombreChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onCveMChange = _this.onCveMChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onSave = _this.onSave.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  } // on mount, fetch all categories and one product data to stored them as this component's state\n\n\n  _createClass(UpdateProductComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // read one product data\n      var CveM = this.props.CveM;\n      this.serverRequestProd = $.get(\"http://localhost/~jesusperea/phpFilesCEDAC/Materias/read_one_materia.php?CveM=\" + CveM, function (product) {\n        this.setState({\n          nombre: product.nombre\n        });\n        this.setState({\n          CveM: product.CveM\n        });\n      }.bind(this));\n      $('.page-header h1').text('Update product');\n    } // handle nombre change\n\n  }, {\n    key: \"onNombreChange\",\n    value: function onNombreChange(e) {\n      this.setState({\n        nombre: e.target.value\n      });\n    } // handle carrera change\n\n  }, {\n    key: \"onCveMChange\",\n    value: function onCveMChange(e) {\n      this.setState({\n        CveM: e.target.value\n      });\n    } // handle save changes button here\n    // handle save changes button clicked\n\n  }, {\n    key: \"onSave\",\n    value: function onSave(e) {\n      console.log(this.state); // data in the form\n\n      $.ajax({\n        url: \"http://localhost/~jesusperea/phpFilesCEDAC/Materias/update_materias.php?CveM=\" + this.state.CveM + \"&nombrem=\" + this.state.nombre\n      });\n      this.setState({\n        successUpdate: 'Product was updated.'\n      });\n      e.preventDefault();\n    } // render component here\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, this.state.successUpdate === \"Product was updated.\" ? React.createElement(\"div\", {\n        className: \"alert alert-success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"Product was updated.\") : null, this.state.successUpdate === \"Unable to update product.\" ? React.createElement(\"div\", {\n        className: \"alert alert-danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Unable to update product. Please try again.\") : null, React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this2.props.changeAppMode('read');\n        },\n        className: \"btn btn-primary margin-bottom-1em\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Ver Actividad\"), React.createElement(\"form\", {\n        onSubmit: this.onSave,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        className: \"table table-bordered table-hover\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"Clave de Actividad\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"textarea\", {\n        type: \"text\",\n        className: \"form-control\",\n        required: true,\n        value: this.state.CveM,\n        onChange: this.onCveMChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }))), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"Nombre\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: this.state.nombre,\n        required: true,\n        onChange: this.onNombreChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }))), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: this.onSave,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"Save Changes\")))))));\n    }\n  }]);\n\n  return UpdateProductComponent;\n}(React.Component);","map":{"version":3,"sources":["/Users/jesusperea/Desktop/Bases Proyect/myapp/src/Materias/update_materia.jsx"],"names":["React","$","UpdateProductComponent","props","state","nombre","CveM","successUpdate","onNombreChange","bind","onCveMChange","onSave","serverRequestProd","get","product","setState","text","e","target","value","console","log","ajax","url","preventDefault","changeAppMode","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport $ from 'jquery';\n\n// component that contains the logic to update a product\nexport class UpdateProductComponent extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            nombre: '',\n            CveM : '',\n            successUpdate: null\n        }\n        this.onNombreChange = this.onNombreChange.bind(this);\n        this.onCveMChange = this.onCveMChange.bind(this);\n        this.onSave = this.onSave.bind(this);\n\n    }\n\n    // on mount, fetch all categories and one product data to stored them as this component's state\n    componentDidMount(){\n\n        // read one product data\n        var CveM = this.props.CveM;\n        this.serverRequestProd = $.get(\"http://localhost/~jesusperea/phpFilesCEDAC/Materias/read_one_materia.php?CveM=\" + CveM,\n            function (product) {\n                this.setState({nombre: product.nombre});\n                this.setState({CveM: product.CveM});\n            }.bind(this));\n\n        $('.page-header h1').text('Update product');\n    }\n\n    // handle nombre change\n    onNombreChange(e){\n        this.setState({nombre: e.target.value});\n    }\n\n    // handle carrera change\n    onCveMChange(e){\n        this.setState({CveM: e.target.value});\n    }\n\n    // handle save changes button here\n    // handle save changes button clicked\n    onSave(e){\n\n        console.log(this.state);\n        // data in the form\n        $.ajax({\n            url: \"http://localhost/~jesusperea/phpFilesCEDAC/Materias/update_materias.php?CveM=\" + this.state.CveM + \n                                    \"&nombrem=\" + this.state.nombre\n        });\n        this.setState({ successUpdate : 'Product was updated.' });\n        e.preventDefault();\n    }\n\n    // render component here\n    render(){\n        return (\n            <div>\n                {\n                    this.state.successUpdate === \"Product was updated.\" ?\n                        <div className='alert alert-success'>\n                            Product was updated.\n                        </div>\n                        : null\n                }\n\n                {\n                    this.state.successUpdate === \"Unable to update product.\" ?\n                        <div className='alert alert-danger'>\n                            Unable to update product. Please try again.\n                        </div>\n                        : null\n                }\n\n                <button\n                    onClick={() => this.props.changeAppMode('read')}\n                    className='btn btn-primary margin-bottom-1em'>\n                    Ver Actividad\n                </button>\n\n                <form onSubmit={this.onSave}>\n                    <table className='table table-bordered table-hover'>\n                        <tbody>\n\n                        <tr>\n                            <td>Clave de Actividad</td>\n                            <td>\n                                <textarea\n                                    type='text'\n                                    className='form-control'\n                                    required\n                                    value={this.state.CveM}\n                                    onChange={this.onCveMChange}></textarea>\n                            </td>\n                        </tr>\n\n                        <tr>\n                            <td>Nombre</td>\n                            <td>\n                                <input\n                                    type='text'\n                                    className='form-control'\n                                    value={this.state.nombre}\n                                    required\n                                    onChange={this.onNombreChange} />\n                            </td>\n                        </tr>\n\n                        <tr>\n                            <td></td>\n                            <td>\n                                <button\n                                    className='btn btn-primary'\n                                    onClick={this.onSave}>Save Changes</button>\n                            </td>\n                        </tr>\n\n                        </tbody>\n                    </table>\n                </form>\n            </div>\n        );\n    }\n\n}"]},"metadata":{},"sourceType":"module"}