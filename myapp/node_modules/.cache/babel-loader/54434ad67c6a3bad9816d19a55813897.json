{"ast":null,"code":"import _classCallCheck from \"/Users/jesusperea/Desktop/Bases Proyect/myapp/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jesusperea/Desktop/Bases Proyect/myapp/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jesusperea/Desktop/Bases Proyect/myapp/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jesusperea/Desktop/Bases Proyect/myapp/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jesusperea/Desktop/Bases Proyect/myapp/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/jesusperea/Desktop/Bases Proyect/myapp/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/jesusperea/Desktop/Bases Proyect/myapp/src/Alumno/create_boleta.jsx\";\nimport React from 'react';\nimport $ from 'jquery';\nimport { FormControl } from 'react-bootstrap';\nexport var CreateBoletaComponent =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CreateBoletaComponent, _React$Component);\n\n  function CreateBoletaComponent(props) {\n    var _this;\n\n    _classCallCheck(this, CreateBoletaComponent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CreateBoletaComponent).call(this, props));\n    _this.state = {\n      CveAct: '',\n      CveAlu: '',\n      fecha: '',\n      comments: '',\n      evaluacion: '',\n      successCreation: null\n    };\n    _this.onmateriaChange = _this.onmateriaChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.oncalificacionChange = _this.oncalificacionChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onfechaChange = _this.onfechaChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onCommentsChange = _this.onCommentsChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onSave = _this.onSave.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.componentDidMount = _this.componentDidMount.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(CreateBoletaComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var nombre = this.state.materia;\n      this.serverRequestProd = $.get(\"http://localhost/~jesusperea/phpFilesCEDAC/Materias/clave_materia.php?nombrem=\" + nombre, function (product) {\n        this.setState({\n          CveAct: product.CveAct\n        });\n      }.bind(this));\n      $('.page-header h1').text('Create entry');\n      console.log(this.state);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.serverRequestProd.abort();\n    } // handle form field changes here\n    // handle materia change\n\n  }, {\n    key: \"onmateriaChange\",\n    value: function onmateriaChange(e) {\n      this.setState({\n        materia: e.target.value\n      });\n      this.componentDidMount();\n    } // handle calificacion change\n\n  }, {\n    key: \"oncalificacionChange\",\n    value: function oncalificacionChange(e) {\n      this.setState({\n        evaluacion: e.target.value\n      });\n      this.componentDidMount();\n    } // handle calificacion change\n\n  }, {\n    key: \"onfechaChange\",\n    value: function onfechaChange(e) {\n      this.setState({\n        fecha: e.target.value\n      });\n      this.componentDidMount();\n    }\n  }, {\n    key: \"onCommentsChange\",\n    value: function onCommentsChange(e) {\n      this.setState({\n        comments: e.target.value\n      });\n      this.componentDidMount();\n    } // handle save button clicked   \n\n  }, {\n    key: \"onSave\",\n    value: function onSave(e) {\n      // data in the form\n      var form_data = {\n        CveAct: this.state.CveAct,\n        CveAlu: this.props.CveA,\n        fecha: this.state.fecha,\n        comments: this.state.comments,\n        evaluacion: this.state.evaluacion\n      };\n      console.log(form_data); // submit form data to api\n\n      $.ajax({\n        url: \"http://localhost/~jesusperea/phpFilesCEDAC/create_boleta.php\",\n        type: \"POST\",\n        //contentType : 'application/json',\n        data: JSON.stringify(form_data),\n        success: function (response) {\n          // api message\n          this.setState({\n            successCreation: response['message']\n          }); // empty form\n\n          this.setState({\n            fecha: \"\"\n          });\n          this.setState({\n            CveAct: \"\"\n          });\n          this.setState({\n            CveAlu: \"\"\n          });\n          this.setState({\n            evaluacion: \"\"\n          });\n          this.setState({\n            comments: \"\"\n          });\n        }.bind(this),\n        error: function error(xhr, resp, text) {\n          // show error to console\n          console.log(xhr, resp, text);\n        }\n      });\n      e.preventDefault();\n    } // render component here\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, this.state.successCreation === \"Product was created.\" ? React.createElement(\"div\", {\n        className: \"alert alert-success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"La entrada ha sido a\\xF1adida.\") : null, this.state.successCreation === \"Unable to create product.\" ? React.createElement(\"div\", {\n        className: \"alert alert-danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"Imposible guardar la nueva entrada. Intente de nuevo.\") : null, this.state.successCreation === \"Unable to create product. Data is incomplete.\" ? React.createElement(\"div\", {\n        className: \"alert alert-danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"Imposible guardar la nueva entrada. Intente de nuevo.\") : null, React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this2.props.changeAppMode('boleta', _this2.props.CveA);\n        },\n        className: \"btn btn-primary margin-bottom-1em\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \" Read Alumnos\"), React.createElement(\"form\", {\n        onSubmit: this.onSave,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        className: \"table table-bordered table-hover\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, \"Activdad\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: this.state.materia,\n        required: true,\n        onChange: this.onmateriaChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }))), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, \"Calificacion\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: this.state.calificacion,\n        required: true,\n        onChange: this.oncalificacionChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }))), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, \"Fecha\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: this.state.fecha,\n        required: true,\n        onChange: this.onfechaChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }))), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, \"Comentarios\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        type: \"text area\",\n        className: \"form-control\",\n        value: this.state.comments,\n        required: true,\n        onChange: this.onCommentsChange,\n        componentClass: \"textarea\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }))), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: this.Save,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, \"Save\")))))));\n    }\n  }]);\n\n  return CreateBoletaComponent;\n}(React.Component);","map":{"version":3,"sources":["/Users/jesusperea/Desktop/Bases Proyect/myapp/src/Alumno/create_boleta.jsx"],"names":["React","$","FormControl","CreateBoletaComponent","props","state","CveAct","CveAlu","fecha","comments","evaluacion","successCreation","onmateriaChange","bind","oncalificacionChange","onfechaChange","onCommentsChange","onSave","componentDidMount","nombre","materia","serverRequestProd","get","product","setState","text","console","log","abort","e","target","value","form_data","CveA","ajax","url","type","data","JSON","stringify","success","response","error","xhr","resp","preventDefault","changeAppMode","calificacion","Save","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport $ from 'jquery';\nimport { FormControl } from 'react-bootstrap';\n\nexport class CreateBoletaComponent extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            CveAct: '',\n            CveAlu : '',\n            fecha : '',\n            comments : '',\n            evaluacion : '',\n            successCreation: null\n        }\n\n        this.onmateriaChange = this.onmateriaChange.bind(this);\n        this.oncalificacionChange = this.oncalificacionChange.bind(this);\n        this.onfechaChange = this.onfechaChange.bind(this);\n        this.onCommentsChange = this.onCommentsChange.bind(this);\n        this.onSave = this.onSave.bind(this);\n        this.componentDidMount = this.componentDidMount.bind(this)\n    }\n    \n    componentDidMount(){\n        var nombre = this.state.materia;\n        this.serverRequestProd = $.get(\"http://localhost/~jesusperea/phpFilesCEDAC/Materias/clave_materia.php?nombrem=\" + nombre,\n        function (product) {\n            this.setState({CveAct: product.CveAct});\n        }.bind(this));\n        $('.page-header h1').text('Create entry');\n        \n        console.log(this.state);\n    }\n\n    componentWillUnmount(){\n        this.serverRequestProd.abort();\n    }\n\n    // handle form field changes here\n    // handle materia change\n    onmateriaChange(e){\n        this.setState({materia: e.target.value});\n        this.componentDidMount();\n    }\n    \n    // handle calificacion change\n    oncalificacionChange(e){\n        this.setState({evaluacion: e.target.value});\n        this.componentDidMount();\n\n    }\n\n    // handle calificacion change\n    onfechaChange(e){\n        this.setState({fecha: e.target.value});\n        this.componentDidMount();\n    }\n\n    onCommentsChange(e){\n        this.setState({comments : e.target.value});\n        this.componentDidMount();\n    }\n\n    // handle save button clicked   \n    onSave(e){\n        // data in the form\n        var form_data = {\n            CveAct: this.state.CveAct,\n            CveAlu: this.props.CveA,\n            fecha: this.state.fecha,\n            comments : this.state.comments,\n            evaluacion: this.state.evaluacion\n        };\n\n        console.log(form_data);\n\n    \n        // submit form data to api\n        $.ajax({    \n            url: \"http://localhost/~jesusperea/phpFilesCEDAC/create_boleta.php\",\n            type : \"POST\",\n            //contentType : 'application/json',\n            data : JSON.stringify(form_data),\n            success : function(response) {\n    \n                // api message\n                this.setState({successCreation: response['message']});\n    \n                // empty form\n                this.setState({fecha: \"\"});\n                this.setState({CveAct: \"\"});\n                this.setState({CveAlu: \"\"});\n                this.setState({evaluacion: \"\"});\n                this.setState({comments: \"\"});\n    \n            }.bind(this),\n            error: function(xhr, resp, text){\n                // show error to console\n                console.log(xhr, resp, text);\n            }\n        });\n    \n        e.preventDefault();\n    }\n    // render component here\n    render(){\n        return (\n        <div>\n            {\n                this.state.successCreation === \"Product was created.\" ?\n                    <div className='alert alert-success'>\n                        La entrada ha sido a√±adida. \n                    </div>\n                : null\n            }\n     \n            {\n                this.state.successCreation === \"Unable to create product.\" ?\n                    <div className='alert alert-danger'>\n                        Imposible guardar la nueva entrada. Intente de nuevo.\n                    </div>\n                : null\n            }\n\n            {\n                this.state.successCreation === \"Unable to create product. Data is incomplete.\" ?\n                    <div className='alert alert-danger'>\n                        Imposible guardar la nueva entrada. Intente de nuevo.\n                    </div>\n                : null\n            }\n     \n            <button\n                onClick={() => this.props.changeAppMode('boleta',this.props.CveA)}\n                className='btn btn-primary margin-bottom-1em'> Read Alumnos\n            </button>\n     \n            <form onSubmit={this.onSave}>\n                <table className='table table-bordered table-hover'>\n                <tbody>\n                    <tr>\n                        <td>Activdad</td>\n                        <td>\n                            <input\n                            type='text'\n                            className='form-control'\n                            value={this.state.materia}\n                            required\n                            onChange={this.onmateriaChange} />\n                        </td>\n                    </tr>\n\n                    <tr>\n                        <td>Calificacion</td>\n                        <td>\n                            <input\n                            type='text'\n                            className='form-control'\n                            value={this.state.calificacion}\n                            required\n                            onChange={this.oncalificacionChange}/>\n                        </td>\n                    </tr>\n                    \n                    <tr>\n                        <td>Fecha</td>\n                        <td>\n                            <input\n                            type='text'\n                            className='form-control'\n                            value={this.state.fecha}\n                            required\n                            onChange={this.onfechaChange}/>\n                        </td>\n                    </tr>\n\n                    <tr>\n                        <td>Comentarios</td>\n                        <td>\n                            <FormControl type='text area'\n                            className='form-control'\n                            value={this.state.comments}\n                            required\n                            onChange={this.onCommentsChange}\n                            componentClass=\"textarea\" />\n\n                        </td>\n                    </tr>\n\n                    <tr>\n                        <td></td>\n                        <td>\n                            <button\n                            className='btn btn-primary'\n                            onClick={this.Save}>Save</button>\n                        </td>\n                    </tr>\n                    </tbody>\n                </table>\n            </form>\n        </div>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}